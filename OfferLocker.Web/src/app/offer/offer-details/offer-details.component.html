<app-header></app-header>

<main>
  <h1>
    Offer Details
  </h1>

  <div class="flex-row-space-around">

    <section class="form-section">
      <form [formGroup]="formGroup" id="formGroup">
      <div class="form-group">
        <label>Name:</label>
        <input type="text" placeholder="Enter offer name" formControlName="name" >
      </div>

      <div class="form-group">
        <label>Description:</label>
        <p *ngIf="isFormDisabled; else notEditable1">{{description}}</p>

        <ng-template #notEditable1>
          <textarea class="offer-description" contenteditable="true"
            placeholder="Enter a description for your offer" formControlName="description">{{description}}</textarea>
        </ng-template>
      </div>

      <div class="form-group">
        <label>Price:</label>
        <p *ngIf="isFormDisabled; else notEditable2">{{ price }} RON</p>
        <ng-template #notEditable2>
          <input type="number" step="0.01" min="5" max="500" formControlName="price" />{{
            price
          }}
        </ng-template>
      </div>

      <button type="button" *ngIf="isFormDisabled" (click)="save()"><span>Save deal</span></button>

      <app-submit-button *ngIf="isFormDisabled; else saveButton" (onClick)="startUpdating()" [formState]="isFormValid">Update</app-submit-button>

      <ng-template #saveButton>
        <app-submit-button (onClick)="save()" [formState]="isFormValid">Submit</app-submit-button>
      </ng-template>
      <ng-template #hideButton>

      </ng-template>

      </form>
    </section>

    <section class="image-section">
      <img src="../../../assets/images/offers.svg" alt="offer-image" />
    </section>
  </div>
</main>
<app-footer></app-footer>
